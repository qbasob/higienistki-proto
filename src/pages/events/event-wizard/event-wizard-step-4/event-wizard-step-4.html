<ion-header>
  <ion-navbar color="primary">
    <!-- <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button> -->
    <ion-title>Zdjęcie wnętrza placówki</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <form novalidate [formGroup]="stepForm" #formDir="ngForm" (ngSubmit)="next()">
    <ion-list>
      <ion-item-group>
        <ion-item-divider color="light">Uzyskaj zezwolenie i wykonaj zdjęcia - unikaj fotografowania Pacjentów</ion-item-divider>
      </ion-item-group>

      <!-- ZDJĘCIE POCZEKALNI -->
      <div [slide-down]="stepForm.get('noPhotoInsideWaiting').value === false">
        <ion-item>
          <ion-row>
            <ion-col text-center>
              <img [src]="photosSrc.photoInsideWaiting" class="photo">
              <input type="file" (change)="addPhoto($event, 'photoInsideWaiting')" id="file-input" style="display: none;" #fileInp1>
              <button ion-button type="button" (click)="addPhotoClick(fileInp1)">Zrób zdjęcie</button>
              <div ion-text *ngIf="(stepForm.get('photoInsideWaiting').dirty || formDir.submitted) && stepForm.get('photoInsideWaiting').invalid"
                color="danger" padding-left>
                <span *ngIf="stepForm.get('photoInsideWaiting').errors.required">
                  To pole jest wymagane
                </span>
              </div>
            </ion-col>
          </ion-row>
        </ion-item>
      </div>

      <!-- BRAK MOŻLIWOŚCI WYKONANIA ZDJĘCIA W POCZEKALNI -->
      <ion-item>
        <ion-label>Brak możliwości wykonania zdjęcia</ion-label>
        <ion-toggle formControlName="noPhotoInsideWaiting"></ion-toggle>
      </ion-item>
      <span ion-text *ngIf="(stepForm.get('noPhotoInsideWaiting').dirty || formDir.submitted) && stepForm.get('noPhotoInsideWaiting').invalid"
        color="danger" padding-left>
        <span *ngIf="stepForm.get('noPhotoInsideWaiting').errors.required">
          To pole jest wymagane
        </span>
      </span>

      <!-- POWÓD NIEWYKONANIA ZDJĘCIA W POCZEKALNI -->
      <div [slide-down]="stepForm.get('noPhotoInsideWaiting').value === true">
        <ion-item>
          <ion-label floating>Wpisz powód niewykonania zdjęcia w poczekalni</ion-label>
          <ion-input formControlName="noPhotoInsideWaitingWhy"></ion-input>
        </ion-item>
        <span ion-text *ngIf="(stepForm.get('noPhotoInsideWaitingWhy').dirty || formDir.submitted) && stepForm.get('noPhotoInsideWaitingWhy').invalid"
          color="danger" padding-left>
          <span *ngIf="stepForm.get('noPhotoInsideWaitingWhy').errors.required">
            To pole jest wymagane
          </span>
        </span>
      </div>


      <!-- ZDJĘCIE GABINETU -->
      <div [slide-down]="stepForm.get('noPhotoInsideOffice').value === false">
        <ion-item>
          <ion-row>
            <ion-col text-center>
              <img [src]="photosSrc.photoInsideOffice" class="photo">
              <input type="file" (change)="addPhoto($event, 'photoInsideOffice')" id="file-input" style="display: none;" #fileInp2>
              <button ion-button type="button" (click)="addPhotoClick(fileInp2)">Zrób zdjęcie</button>
              <div ion-text *ngIf="(stepForm.get('photoInsideOffice').dirty || formDir.submitted) && stepForm.get('photoInsideOffice').invalid"
                color="danger" padding-left>
                <span *ngIf="stepForm.get('photoInsideOffice').errors.required">
                  To pole jest wymagane
                </span>
              </div>
            </ion-col>
          </ion-row>
        </ion-item>
      </div>

      <!-- BRAK MOŻLIWOŚCI WYKONANIA ZDJĘCIA W GABINECIE -->
      <ion-item>
        <ion-label>Brak możliwości wykonania zdjęcia</ion-label>
        <ion-toggle formControlName="noPhotoInsideOffice"></ion-toggle>
      </ion-item>
      <span ion-text *ngIf="(stepForm.get('noPhotoInsideOffice').dirty || formDir.submitted) && stepForm.get('noPhotoInsideOffice').invalid"
        color="danger" padding-left>
        <span *ngIf="stepForm.get('noPhotoInsideOffice').errors.required">
          To pole jest wymagane
        </span>
      </span>

      <!-- POWÓD NIEWYKONANIA ZDJĘCIA W GABINECIE -->
      <div [slide-down]="stepForm.get('noPhotoInsideOffice').value === true">
        <ion-item>
          <ion-label floating>Wpisz powód niewykonania zdjęcia w gabinecie</ion-label>
          <ion-input formControlName="noPhotoInsideOfficeWhy"></ion-input>
        </ion-item>
        <span ion-text *ngIf="(stepForm.get('noPhotoInsideOfficeWhy').dirty || formDir.submitted) && stepForm.get('noPhotoInsideOfficeWhy').invalid"
          color="danger" padding-left>
          <span *ngIf="stepForm.get('noPhotoInsideOfficeWhy').errors.required">
            To pole jest wymagane
          </span>
        </span>
      </div>
    </ion-list>

    <ion-row>
      <ion-col text-center>
        <!-- <button ion-button type="submit" [disabled]="!stepForm.valid">Dalej</button> -->
        <button ion-button type="submit">Dalej</button>
        <button ion-button type="button" color="light" (click)="back()">Wstecz</button>
        <button ion-button type="button" color="light" (click)="cancel()">Anuluj</button>
      </ion-col>
    </ion-row>
  </form>
</ion-content>